{"version":3,"sources":["img/mine.png","img/flag.svg","components/Square.jsx","components/Board.jsx","utils/utils.js","App.js","index.js"],"names":["Square","square","boardSize","handleClick","handleRightClick","gameOver","sizeStyle","width","height","imgSize","className","style","color","n","clicked","onClick","flagged","id","onContextMenu","e","mine","src","imgMine","alt","imgFlag","Board","arrBoard","boardJsx","rows","squares","push","checkSurroundingRecursion","array","i","j","nMines","calcSurroundingMines","App","useState","setArrBoard","setBoardSize","setGameOver","setBoard","size","tmp","Array","Math","random","createGameBoard","useEffect","setTimeout","preventDefault","finishLoop","gameOverCheck","forEach","row","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9cbf4675.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/mine.452ea89f.png\";","export default __webpack_public_path__ + \"static/media/flag.083d31fd.svg\";","import React from \"react\";\r\nimport imgMine from \"../img/mine.png\";\r\nimport imgFlag from \"../img/flag.svg\";\r\n\r\nexport default function Square({\r\n  square,\r\n  boardSize,\r\n  handleClick,\r\n  handleRightClick,\r\n  gameOver,\r\n}) {\r\n  const txtColor = [\r\n    { color: \"black\" },\r\n    { color: \"blue\" },\r\n    { color: \"yellow\" },\r\n    { color: \"orange\" },\r\n    { color: \"red\" },\r\n    { color: \"red\" },\r\n    { color: \"red\" },\r\n    { color: \"red\" },\r\n  ];\r\n  const sizeStyle = {\r\n    width: 100 / boardSize + \"%\",\r\n    height: 100 / boardSize + \"%\",\r\n  };\r\n  const imgSize = {\r\n    width: \"50%\",\r\n    height: \"50%\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"squareContainer\" style={sizeStyle}>\r\n      <div\r\n        style={txtColor[square.n]}\r\n        className={\r\n          square.clicked\r\n            ? square.n > 0\r\n              ? \"squareNoHoverNumber\"\r\n              : \"squareNoHover clicked\"\r\n            : \"square\"\r\n        }\r\n        onClick={() => {\r\n          if (!square.flagged) handleClick(square.id);\r\n        }}\r\n        onContextMenu={e => handleRightClick(e, square.id)}\r\n      >\r\n        {square.mine && (square.clicked || gameOver) ? (\r\n          <img style={imgSize} src={imgMine} alt=\"\" />\r\n        ) : null}\r\n\r\n        {square.clicked && square.n > 0 ? (\r\n          square.n\r\n        ) : square.flagged ? (\r\n          <img style={imgSize} src={imgFlag} alt=\"\" />\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Square from \"./Square\";\r\n\r\nexport default function Board({\r\n  arrBoard,\r\n  boardSize,\r\n  handleClick,\r\n  handleRightClick,\r\n  gameOver,\r\n}) {\r\n  const boardJsx = [];\r\n  for (const rows of arrBoard) {\r\n    for (const squares of rows) {\r\n      boardJsx.push(\r\n        <Square\r\n          key={squares.id}\r\n          square={squares}\r\n          boardSize={boardSize}\r\n          handleClick={handleClick}\r\n          handleRightClick={handleRightClick}\r\n          gameOver={gameOver}\r\n        />\r\n      );\r\n    }\r\n  }\r\n  return <div className=\"gameBoard\">{boardJsx}</div>;\r\n}\r\n","export const createGameBoard = size => {\r\n  let tmp = new Array();\r\n  let id = 0;\r\n  for (let i = 0; i < size; i++) {\r\n    tmp[i] = new Array();\r\n    for (let j = 0; j < size; j++) {\r\n      tmp[i].push({\r\n        mine: Math.random() > 0.12 ? false : true,\r\n        id,\r\n        n: 0,\r\n        clicked: false,\r\n        flagged: false,\r\n      });\r\n      id++;\r\n    }\r\n  }\r\n  return tmp;\r\n};\r\n\r\nexport const checkSurroundingRecursion = (array, i, j, boardSize) => {\r\n  const nMines = calcSurroundingMines(array, i, j, boardSize);\r\n  if (array[i][j].clicked || array[i][j].flagged) return;\r\n\r\n  if (nMines === 0) {\r\n    array[i][j].clicked = true;\r\n    if (i < boardSize - 1)\r\n      checkSurroundingRecursion(array, i + 1, j, boardSize);\r\n    if (i > 0) checkSurroundingRecursion(array, i - 1, j, boardSize);\r\n    if (j < boardSize - 1)\r\n      checkSurroundingRecursion(array, i, j + 1, boardSize);\r\n    if (j > 0) checkSurroundingRecursion(array, i, j - 1, boardSize);\r\n  } else {\r\n    array[i][j].clicked = true;\r\n    array[i][j].n = nMines;\r\n  }\r\n};\r\n\r\nexport const calcSurroundingMines = (array, i, j, boardSize) => {\r\n  let nMines = 0;\r\n  if (i > 0) {\r\n    if (array[i - 1][j].mine) nMines++;\r\n    if (j < boardSize - 1) {\r\n      if (array[i - 1][j + 1].mine) nMines++;\r\n    }\r\n    if (j > 0) {\r\n      if (array[i - 1][j - 1].mine) nMines++;\r\n    }\r\n  }\r\n  if (i < boardSize - 1) {\r\n    if (array[i + 1][j].mine) nMines++;\r\n    if (j < boardSize - 1) {\r\n      if (array[i + 1][j + 1].mine) nMines++;\r\n    }\r\n    if (j > 0) {\r\n      if (array[i + 1][j - 1].mine) nMines++;\r\n    }\r\n  }\r\n  if (j > 0) {\r\n    if (array[i][j - 1].mine) nMines++;\r\n  }\r\n  if (j < boardSize - 1) {\r\n    if (array[i][j + 1].mine) nMines++;\r\n  }\r\n  return nMines;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Board from \"./components/Board\";\r\nimport {\r\n  createGameBoard,\r\n  calcSurroundingMines,\r\n  checkSurroundingRecursion,\r\n} from \"./utils/utils\";\r\n\r\nexport default function App() {\r\n  const [arrBoard, setArrBoard] = useState([]);\r\n  const [boardSize, setBoardSize] = useState(0);\r\n  const [gameOver, setGameOver] = useState(false);\r\n\r\n  const setBoard = size => {\r\n    setBoardSize(size);\r\n    setArrBoard(createGameBoard(size));\r\n    setGameOver(false);\r\n  };\r\n\r\n  const handleRightClick = (e, id) => {\r\n    e.preventDefault();\r\n    const tmp = [...arrBoard];\r\n    tmp.forEach(row =>\r\n      row.forEach(square => {\r\n        if (square.id === id && !square.clicked) {\r\n          square.flagged = !square.flagged;\r\n        }\r\n      })\r\n    );\r\n    setArrBoard(tmp);\r\n  };\r\n  const handleClick = id => {\r\n    let finishLoop = false;\r\n    const tmp = [...arrBoard];\r\n    for (let i = 0; i < boardSize; i++) {\r\n      if (gameOver || finishLoop) break;\r\n      for (let j = 0; j < boardSize; j++) {\r\n        if (arrBoard[i][j].id === id) {\r\n          if (arrBoard[i][j].mine) {\r\n            setGameOver(true);\r\n            return;\r\n          } else {\r\n            const nMines = calcSurroundingMines(tmp, i, j, boardSize);\r\n            if (nMines === 0) {\r\n              checkSurroundingRecursion(tmp, i, j, boardSize);\r\n              finishLoop = true;\r\n            } else {\r\n              tmp[i][j].n = nMines;\r\n              tmp[i][j].clicked = true;\r\n              finishLoop = true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    let gameOverCheck = 0;\r\n    tmp.forEach(row =>\r\n      row.forEach(square => {\r\n        if (square.mine === true && square.flagged === false) {\r\n          gameOverCheck++;\r\n        }\r\n      })\r\n    );\r\n    if (gameOverCheck === 0) {\r\n      setGameOver(true);\r\n    }\r\n    setArrBoard(tmp);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setBoard(9);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (gameOver) {\r\n      setTimeout(() => {\r\n        setBoard(9);\r\n      }, 1000);\r\n    }\r\n  }, [gameOver]);\r\n  return (\r\n    <div className=\"app\" onContextMenu={e => e.preventDefault()}>\r\n      <Board\r\n        arrBoard={arrBoard}\r\n        boardSize={boardSize}\r\n        handleClick={handleClick}\r\n        handleRightClick={handleRightClick}\r\n        gameOver={gameOver}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}